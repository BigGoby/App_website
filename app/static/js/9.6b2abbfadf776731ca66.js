webpackJsonp([9],{"/1a9":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e("8DN1"),a=e("mtWM"),o=e.n(a),i={name:"pubtopic",components:{toast:s.a},data:function(){return{title:"",content:""}},methods:{handleBackClick:function(){this.$router.go("-1")},handleContentChange:function(){this.content.length>=300&&(this.$refs.toast.toastShow("内容最多可输入300字"),this.content=this.content.substr(0,300))},handlePublishClick:function(){this.content=this.content.replace(/^\s+|\s$/g,""),""===this.content?this.$refs.toast.toastShow("请输入内容"):(console.log(this.$route.query.id),"1"===this.$route.query.id?o.a.post("/topic/comment/"+this.$route.query.titleId,{content:this.content}).then(this.handlePubSucc.bind(this)).catch(this.handlePubErr.bind(this)):o.a.post("udcontent/comment/"+this.$route.query.titleId,{content:this.content}).then(this.handlePubSucc.bind(this)).catch(this.handlePubErr.bind(this)))},handlePubSucc:function(t){var n=this;t.data&&(t=t.data),t.data&&(t=t.data.state),1===t||"1"===t?(this.$refs.toast.toastShow("评论成功"),setTimeout(function(){n.$router.go(-1)},2e3)):this.$refs.toast.toastShow("请先登录")},handlePubErr:function(){this.$refs.toast.toastShow("评论失败")}}},c={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"container"},[e("div",{staticClass:"header border-bottom"},[e("span",{staticClass:"back iconfont",on:{click:t.handleBackClick}},[t._v("")]),t._v("\n    评论\n  ")]),t._v(" "),e("div",{staticClass:"main"},[e("div",{staticClass:"cont-box"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"content",attrs:{placeholder:"请输入内容"},domProps:{value:t.content},on:{input:[function(n){n.target.composing||(t.content=n.target.value)},t.handleContentChange]}}),t._v(" "),e("span",{staticClass:"count"},[e("strong",{staticClass:"heavy"},[t._v(t._s(this.content.length))]),t._v("/300")])]),t._v(" "),e("div",{staticClass:"img-con"}),t._v(" "),e("div",{staticClass:"publish",on:{click:t.handlePublishClick}},[t._v("评论")])]),t._v(" "),e("toast",{ref:"toast"})],1)},staticRenderFns:[]},h=e("VU/8")(i,c,!1,function(t){e("cSsm")},"data-v-acb01090",null);n.default=h.exports},cSsm:function(t,n){}});
//# sourceMappingURL=9.6b2abbfadf776731ca66.js.map