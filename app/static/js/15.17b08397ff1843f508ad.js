webpackJsonp([15],{Ci2m:function(t,e){},QGPl:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("8DN1"),a=s("mtWM"),i=s.n(a),o={name:"pubtopic",components:{toast:n.a},data:function(){return{title:"",content:""}},methods:{handleTitleChange:function(){this.title.length>=20&&(this.$refs.toast.toastShow("标题最多可输入20字"),this.title=this.title.substr(0,20))},handleContentChange:function(){this.content.length>=50&&(this.$refs.toast.toastShow("内容最多可输入50字"),this.content=this.content.substr(0,50))},handlePublishClick:function(){var t=/^\s+|\s$/g;this.title=this.title.replace(t,""),this.content=this.content.replace(t,""),""===this.title?this.$refs.toast.toastShow("请输入标题"):""===this.content?this.$refs.toast.toastShow("请输入内容"):i.a.get("/send/ht/",{params:{title:this.title,content:this.content}}).then(this.handlePubSucc.bind(this)).catch(this.handlePubErr.bind(this))},handlePubSucc:function(t){var e=this;t.data&&(t=t.data),t.data&&(t=t.data.state),1===t||"1"===t?(this.$refs.toast.toastShow("发布成功"),setTimeout(function(){e.$router.go(-1)},2e3)):this.handlePubErr()},handlePubErr:function(){this.$refs.toast.toastShow("发布失败")}}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"header border-bottom"},[s("router-link",{staticClass:"back iconfont",attrs:{to:"/my"}},[t._v("")]),t._v("\n    发布话题\n  ")],1),t._v(" "),s("div",{staticClass:"main"},[s("div",{staticClass:"input-con"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"title",attrs:{type:"text",placeholder:"请输入标题"},domProps:{value:t.title},on:{input:[function(e){e.target.composing||(t.title=e.target.value)},t.handleTitleChange]}}),t._v(" "),s("span",{staticClass:"count"},[s("strong",{staticClass:"heavy"},[t._v(t._s(this.title.length))]),t._v("/20")])]),t._v(" "),s("div",{staticClass:"cont-box"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"content",attrs:{placeholder:"请输入内容"},domProps:{value:t.content},on:{input:[function(e){e.target.composing||(t.content=e.target.value)},t.handleContentChange]}}),t._v(" "),s("span",{staticClass:"count"},[s("strong",{staticClass:"heavy"},[t._v(t._s(this.content.length))]),t._v("/50")])]),t._v(" "),s("div",{staticClass:"publish",on:{click:t.handlePublishClick}},[t._v("发布")])]),t._v(" "),s("toast",{ref:"toast"})],1)},staticRenderFns:[]},c=s("VU/8")(o,l,!1,function(t){s("Ci2m")},"data-v-48a4836f",null);e.default=c.exports}});
//# sourceMappingURL=15.17b08397ff1843f508ad.js.map